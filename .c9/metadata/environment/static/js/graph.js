{"changed":true,"filter":false,"title":"graph.js","tooltip":"/static/js/graph.js","value":"queue()\n    .defer(d3.json, 'static/data/characters.json')\n    .await(makeGraphs);\n    \nfunction makeGraphs(error, charactersData) {\n    var ndx = crossfilter(charactersData);\n    \n   \n    \n    charactersData.forEach(function(d){\n        \n        d.appearances = parseInt(d.appearances);\n        d.first_appearance=parseInt(d.first-appearance);\n      \n    });\n   \n\n    show_alignment(ndx);\n    show_identity(ndx);\n    gender_selector(ndx);\n    show_gender_percent(ndx, 'male characters', '#male-percent');\n    show_gender_percent(ndx, 'female characters', '#female-percent');\n    show_gender_percent(ndx, 'genderless characters', '#others-percent');\n    show_numberOfAppearance(ndx);\n    show_eyeColor(ndx);\n    show_hairColor(ndx);\n    show_alive(ndx);\n    show_listCharacters(ndx);\n   \n    updateResult();\n   \n    \n    dc.renderAll();\n\n}\n\n/*----------Helper Functions-----------*/\n\n\n//To remove empty values from grouped data//\n\nfunction remove_blanks(group, value_to_remove) {\n    \n    return {\n        all: function() {\n            return group.all().filter(function(d) {\n                return d.key !== value_to_remove;\n            });\n        }\n    };\n}\n\n/*------------Gender count and Percentage ---------*/\n\nfunction gender_selector(ndx) {\n    var genderDim = ndx.dimension(dc.pluck('sex'));\n    var genderGroup = remove_blanks(genderDim.group(), \"\");\n\n    dc.selectMenu('#genderPercent')\n        .dimension(genderDim)\n        .group(genderGroup);\n}\n\nfunction show_gender_percent(ndx, sex, element) {\n    var genderPercent = ndx.groupAll().reduce(\n        // Sum totals for each gender type\n        function(p, v) {\n            p.total++;\n            if (v.sex === sex) {\n                p.sex_count++;\n            }\n            return p;\n        },\n        function(p, v) {\n            p.total--;\n            if (v.sex === sex) {\n                p.sex_count--;\n            }\n            return p;\n        },\n        function() {\n            return { total: 0, sex_count: 0 };\n        }\n    );\n\n    dc.numberDisplay(element)\n        .formatNumber(d3.format('.2%'))\n        .valueAccessor(function(d) {\n            if (d.sex_count == 0) {\n                return 0;\n            }\n            else {\n                return (d.sex_count / d.total);\n            }\n        })\n        .group(genderPercent);\n}\n\n /*-----------------Pie Chart Identity -----------------------*/\n\nfunction show_identity(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"id\"));\n    var group = remove_blanks(dim.group(), \"\");\n    \n     var pieColors = d3.scale.ordinal()\n      .range(['#e9ab18', '#4682B4','#ADDFAD']);\n\n    dc.pieChart(\"#identity\")\n      .height(250)\n      .width(400)\n      .radius(115)\n      .transitionDuration(1000)\n      .colors(pieColors)\n      .dimension(dim)\n      .group(group)\n      .legend(dc.legend().x(310).y(10).itemHeight(10).gap(10));\n  }  \n\n\n\n\n/*--------------Align Barchart---------*/\n\nfunction show_alignment(ndx) {\n    \n      //Counting each align group\n\n    function alignmentByGender(dimension, align) {\n        return dimension.group().reduce(\n            function (p, v) {\n                p.total++;\n                if (v.align === align) {\n                    p.match++;\n                };\n                return p;\n            },\n            function (p, v) {\n                p.total--;\n                if (v.align === align) {\n                    p.match--;\n                };\n                return p;\n            },\n            function () {\n                return { total: 0, match: 0 }\n            }\n            \n        );\n        \n    };\n     // stacked barchart to show number of characters who are good / bad / neutral\n    \n    var alignmentColors = d3.scale.ordinal()\n        .range(['#e9ab18', '#4682B4','#0E9E8D']);   //,'#ADDFAD'\n   \n\n    var dim = ndx.dimension(dc.pluck(\"sex\"));\n  //  var genderGroup = remove_blanks(dim.group(), \"\");\n    var goodByGender = alignmentByGender(dim, \"good characters\"); \n    var badByGender = alignmentByGender(dim, \"bad characters\");\n    var neutralByGender = alignmentByGender(dim, \"neutral characters\");\n  \n    dc.barChart(\"#bar-alignment\")\n        \n        .height(350)\n        .width(600)\n        //.useViewBoxResizing(true) //to make the chart responsive\n        .centerBar(true)\n        .dimension(dim)\n        .group(goodByGender, \"Good\")\n        .stack(badByGender, \"Bad\")\n        .stack(neutralByGender, \"Neutral\")\n        .valueAccessor(function (d) {\n            if(d.value.total > 0) {\n                return (d.value.match / d.value.total) * 100\n            } else {\n                return 0;\n            }\n            return d.value.percent * 100;\n            \n        })\n       \n        .colors(alignmentColors)\n        .x(d3.scale.ordinal())\n        .xUnits(dc.units.ordinal)\n        .barPadding(0.2)\n        .xAxisLabel(\"Gender\")\n        .legend(dc.legend().x(490).y(10).itemHeight(15).gap(10))\n        .margins({top: 10, right: 100, bottom: 60, left: 120});\n      // .renderlet(function(chart) {\n     //   chart.selectAll(\"g.x text\").attr('dx', '-30').attr(\n     // 'dy', '-7').attr('transform', \"rotate(-60)\"); });\n \n        \n}\n\n\n/*--------------------scatterplot--------------*/\n\nfunction show_numberOfAppearance(ndx) {\n     \n      var genderColors = d3.scale.ordinal()\n        .domain([\"female\", \"male\"])\n        .range([\"pink\", \"blue\"]);\n        \n      var yearDim = ndx.dimension(function (d) {\n      return d.year;\n      \n       });  \n        \n      var xyearDim = ndx.dimension(function(d){\n        return [d.year, d.appearances, d.sex];\n       });\n       \n       var yearAppearanceGroup = xyearDim.group();\n    \n       var minYear = yearDim.bottom(1)[0].year;\n       var maxYear = yearDim.top(1)[0].year;\n    \n    dc.scatterPlot(\"#appearance\")\n        .width(750)\n        .height(400)\n        .x(d3.scale.linear().domain([minYear,maxYear]))\n        .brushOn(false)\n        .symbolSize(8)\n        .clipPadding(10)\n        .elasticX(true)\n        .xAxisLabel(\"Year\")\n        .elasticY(true)\n        .yAxisLabel(\"Apperarance\")\n        .title(function (d) {\n            return d.key[1] + \" appearances \";\n        })\n        \n        .colorAccessor(function (d) {\n            return d.key[2];\n        })\n        .colors(genderColors)\n        .dimension(yearDim)\n        .group(yearAppearanceGroup)\n        .margins({top: 10, right: 50, bottom: 75, left: 55});\n       \n}\n  /*------------------Alive Bar chart-----------*/\n  \n   function show_alive(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"alive\"));\n    var group = remove_blanks(dim.group(), \"\");\n    \n     var aliveColors = d3.scale.ordinal()\n        .range(['#4682B4']);\n   \n   \n    dc.barChart(\"#bar-alive\")\n      .width(350)\n      .height(400)\n      .margins({top: 10,right: 10,bottom: 30,left: 110})\n      .colors(aliveColors)\n      .dimension(dim)\n      .group(group)\n      .barPadding(0.05)\n      .transitionDuration(1000)\n      .x(d3.scale.ordinal())\n      .xUnits(dc.units.ordinal)\n      .elasticY(false)\n      .xAxisLabel(\"Alive\")\n      .yAxis()\n      .ticks(10);\n   }\n    \n   \n\n\n/*------------------Eye Color Pie Chart-----------*/\n\n function show_eyeColor(ndx) {\n     \n     var pieColors = d3.scale.ordinal()\n        .range(['#4682B4','#8C6746','black', '#B1AA4E',\t'#FF4500','#ADDFAD','#e9ab18', '#F2BC79', '#B2762D', '#DCAB6E']);\n   \n    var dim = ndx.dimension(dc.pluck(\"eye\"));\n    var group = remove_blanks(dim.group(), \"\");\n    \n    dc.pieChart(\"#eye-color\")\n      .height(300)\n      .width(500)\n      .innerRadius(50)\n      .radius(125)\n      .transitionDuration(1000)\n      .colors(pieColors)\n      .dimension(dim)\n      .group(group)\n      .legend(dc.legend().x(400).y(10).itemHeight(12).gap(5));\n      \n  }  \n  \n  /*------------------Hair Color Pie Chart-----------*/\n\n function show_hairColor(ndx) {\n     \n     var pieColors = d3.scale.ordinal()\n        .range(['black','#8C6746','#e9ab18', '#FF4500','#ADDFAD', '#5A87A0','#F2BC79', '#8C6746', '#B1AA4E', '#B2762D', '#DCAB6E']);\n   \n    var dim = ndx.dimension(dc.pluck(\"hair\"));\n    var group = remove_blanks(dim.group(), \"\");\n    \n    dc.pieChart(\"#hair-color\")\n      .height(300)\n      .width(500)\n      .innerRadius(50)\n      .radius(125)\n      .transitionDuration(1000)\n      .colors(pieColors)\n      .dimension(dim)\n      .group(group)\n      .legend(dc.legend().x(400).y(10).itemHeight(12).gap(5));\n      \n  }  \n\n  \n   /*------------------List of characters-----------*/\n    \n   \n function show_listCharacters(ndx) {  \n   var dataTable = dc.dataTable(\"#all-characters\");\n  \n   var dim = ndx.dimension(dc.pluck(\"name\"));\n // console.log(dim.top(Infinity));\n  \n     dataTable\n     \n      .dimension(dim)\n      .group(function(d) {\n        return \"\";\n      })\n      .columns([\"name\", \"urlslug\", \"first appearance\"])\n      .size(Infinity)\n      .sortBy(dc.pluck(\"name\")) // This line of code is corrected by stackoverflow\n\n      .order(d3.ascending)\n      .transitionDuration(1000);\n     \n      \n       }\n       \n       /*-----------------Table Pagination-----------*/\n  \n          var resultStart = 0; var resultEnd =21;\n          var ndx;\n          var dataTable = dc.dataTable;\n          \n          function displayResult() {\n            \n             \n            document.getElementById(\"start\").innerHTML = resultStart;\n            document.getElementById(\"end\").innerHTML = resultStart + resultEnd-1;\n\n            document.getElementById(\"totalSize\").innerHTML = ndx.size();\n\n\n            d3.select('#prev').attr('disabled', resultStart-resultEnd < 0 ? 'true' : null);\n            d3.select('#next').attr('disabled', resultStart+resultEnd >= ndx.size() ? 'true' : null);\n        }\n\n          function updateResult() {\n\n            dataTable.beginslice(resultStart);\n            dataTable.endSlice(resultStart + resultEnd);\n            displayResult();\n           \n        }\n\n        function prev() {\n          resultStart -= resultEnd;\n          updateResult();\n          dataTable.redraw();\n        }\n\n          function next() {\n            resultStart += resultEnd;\n            updateResult();\n            dataTable.redraw();\n        }\n        \n   ","undoManager":{"mark":94,"position":100,"stack":[[{"start":{"row":192,"column":62},"end":{"row":192,"column":63},"action":"remove","lines":[";"],"id":1355}],[{"start":{"row":194,"column":4},"end":{"row":194,"column":5},"action":"insert","lines":[" "],"id":1356},{"start":{"row":194,"column":5},"end":{"row":194,"column":6},"action":"insert","lines":[" "]},{"start":{"row":194,"column":6},"end":{"row":194,"column":7},"action":"insert","lines":[" "]},{"start":{"row":194,"column":7},"end":{"row":194,"column":8},"action":"insert","lines":[" "]}],[{"start":{"row":193,"column":6},"end":{"row":193,"column":7},"action":"insert","lines":["/"],"id":1357},{"start":{"row":193,"column":7},"end":{"row":193,"column":8},"action":"insert","lines":["/"]}],[{"start":{"row":192,"column":62},"end":{"row":192,"column":63},"action":"insert","lines":[";"],"id":1358}],[{"start":{"row":194,"column":5},"end":{"row":194,"column":6},"action":"insert","lines":["/"],"id":1359},{"start":{"row":194,"column":6},"end":{"row":194,"column":7},"action":"insert","lines":["/"]}],[{"start":{"row":195,"column":5},"end":{"row":195,"column":6},"action":"insert","lines":["/"],"id":1360},{"start":{"row":195,"column":6},"end":{"row":195,"column":7},"action":"insert","lines":["/"]}],[{"start":{"row":196,"column":1},"end":{"row":196,"column":5},"action":"remove","lines":[" });"],"id":1361}],[{"start":{"row":195,"column":53},"end":{"row":195,"column":57},"action":"insert","lines":[" });"],"id":1362}],[{"start":{"row":185,"column":8},"end":{"row":185,"column":35},"action":"insert","lines":[".round(d3.time.month.round)"],"id":1363}],[{"start":{"row":185,"column":27},"end":{"row":185,"column":28},"action":"remove","lines":["h"],"id":1364},{"start":{"row":185,"column":26},"end":{"row":185,"column":27},"action":"remove","lines":["t"]},{"start":{"row":185,"column":25},"end":{"row":185,"column":26},"action":"remove","lines":["n"]},{"start":{"row":185,"column":24},"end":{"row":185,"column":25},"action":"remove","lines":["o"]},{"start":{"row":185,"column":23},"end":{"row":185,"column":24},"action":"remove","lines":["m"]},{"start":{"row":185,"column":22},"end":{"row":185,"column":23},"action":"remove","lines":["."]},{"start":{"row":185,"column":21},"end":{"row":185,"column":22},"action":"remove","lines":["e"]},{"start":{"row":185,"column":20},"end":{"row":185,"column":21},"action":"remove","lines":["m"]},{"start":{"row":185,"column":19},"end":{"row":185,"column":20},"action":"remove","lines":["i"]},{"start":{"row":185,"column":18},"end":{"row":185,"column":19},"action":"remove","lines":["t"]}],[{"start":{"row":185,"column":18},"end":{"row":185,"column":19},"action":"insert","lines":["v"],"id":1365},{"start":{"row":185,"column":19},"end":{"row":185,"column":20},"action":"insert","lines":["a"]},{"start":{"row":185,"column":20},"end":{"row":185,"column":21},"action":"insert","lines":["l"]}],[{"start":{"row":185,"column":21},"end":{"row":185,"column":22},"action":"insert","lines":["u"],"id":1366},{"start":{"row":185,"column":22},"end":{"row":185,"column":23},"action":"insert","lines":["e"]}],[{"start":{"row":185,"column":7},"end":{"row":185,"column":30},"action":"remove","lines":[" .round(d3.value.round)"],"id":1367}],[{"start":{"row":183,"column":41},"end":{"row":184,"column":0},"action":"insert","lines":["",""],"id":1368},{"start":{"row":184,"column":0},"end":{"row":184,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":184,"column":12},"end":{"row":184,"column":38},"action":"insert","lines":[" return Math.round(value);"],"id":1369}],[{"start":{"row":184,"column":12},"end":{"row":184,"column":38},"action":"remove","lines":[" return Math.round(value);"],"id":1370}],[{"start":{"row":176,"column":42},"end":{"row":177,"column":0},"action":"insert","lines":["",""],"id":1396},{"start":{"row":177,"column":0},"end":{"row":177,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":177,"column":8},"end":{"row":177,"column":40},"action":"insert","lines":[" .formatNumber(d3.format('.2%'))"],"id":1397}],[{"start":{"row":177,"column":8},"end":{"row":177,"column":9},"action":"remove","lines":[" "],"id":1398}],[{"start":{"row":177,"column":8},"end":{"row":177,"column":39},"action":"remove","lines":[".formatNumber(d3.format('.2%'))"],"id":1399},{"start":{"row":177,"column":8},"end":{"row":178,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":177,"column":4},"end":{"row":177,"column":8},"action":"remove","lines":["    "],"id":1400},{"start":{"row":177,"column":0},"end":{"row":177,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":184,"column":12},"end":{"row":184,"column":44},"action":"insert","lines":[" .formatNumber(d3.format('.2%'))"],"id":1401}],[{"start":{"row":184,"column":14},"end":{"row":184,"column":43},"action":"remove","lines":["formatNumber(d3.format('.2%')"],"id":1402}],[{"start":{"row":184,"column":14},"end":{"row":184,"column":15},"action":"insert","lines":["t"],"id":1403},{"start":{"row":184,"column":15},"end":{"row":184,"column":16},"action":"insert","lines":["o"]}],[{"start":{"row":184,"column":16},"end":{"row":184,"column":17},"action":"insert","lines":["F"],"id":1404},{"start":{"row":184,"column":17},"end":{"row":184,"column":18},"action":"insert","lines":["i"]},{"start":{"row":184,"column":18},"end":{"row":184,"column":19},"action":"insert","lines":["x"]}],[{"start":{"row":184,"column":18},"end":{"row":184,"column":19},"action":"remove","lines":["x"],"id":1405},{"start":{"row":184,"column":17},"end":{"row":184,"column":18},"action":"remove","lines":["i"]},{"start":{"row":184,"column":16},"end":{"row":184,"column":17},"action":"remove","lines":["F"]},{"start":{"row":184,"column":15},"end":{"row":184,"column":16},"action":"remove","lines":["o"]},{"start":{"row":184,"column":14},"end":{"row":184,"column":15},"action":"remove","lines":["t"]}],[{"start":{"row":184,"column":13},"end":{"row":184,"column":14},"action":"remove","lines":["."],"id":1406}],[{"start":{"row":184,"column":13},"end":{"row":184,"column":14},"action":"remove","lines":[")"],"id":1407}],[{"start":{"row":184,"column":13},"end":{"row":184,"column":14},"action":"insert","lines":["."],"id":1408},{"start":{"row":184,"column":14},"end":{"row":184,"column":15},"action":"insert","lines":["t"]},{"start":{"row":184,"column":15},"end":{"row":184,"column":16},"action":"insert","lines":["o"]}],[{"start":{"row":184,"column":15},"end":{"row":184,"column":16},"action":"remove","lines":["o"],"id":1409},{"start":{"row":184,"column":14},"end":{"row":184,"column":15},"action":"remove","lines":["t"]},{"start":{"row":184,"column":13},"end":{"row":184,"column":14},"action":"remove","lines":["."]},{"start":{"row":184,"column":12},"end":{"row":184,"column":13},"action":"remove","lines":[" "]}],[{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"remove","lines":["0"],"id":1410},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"remove","lines":["0"]},{"start":{"row":226,"column":16},"end":{"row":226,"column":17},"action":"remove","lines":["4"]}],[{"start":{"row":226,"column":16},"end":{"row":226,"column":17},"action":"insert","lines":["3"],"id":1411},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"insert","lines":["5"]},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"insert","lines":["0"]}],[{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"remove","lines":["0"],"id":1412},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"remove","lines":["5"]},{"start":{"row":226,"column":16},"end":{"row":226,"column":17},"action":"remove","lines":["3"]}],[{"start":{"row":226,"column":16},"end":{"row":226,"column":17},"action":"insert","lines":["4"],"id":1413},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"insert","lines":["0"]},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"insert","lines":["0"]}],[{"start":{"row":172,"column":24},"end":{"row":173,"column":0},"action":"insert","lines":["",""],"id":1414},{"start":{"row":173,"column":0},"end":{"row":173,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":173,"column":8},"end":{"row":173,"column":24},"action":"insert","lines":[".clipPadding(10)"],"id":1415}],[{"start":{"row":173,"column":23},"end":{"row":173,"column":24},"action":"remove","lines":[")"],"id":1416},{"start":{"row":173,"column":22},"end":{"row":173,"column":23},"action":"remove","lines":["0"]},{"start":{"row":173,"column":21},"end":{"row":173,"column":22},"action":"remove","lines":["1"]},{"start":{"row":173,"column":20},"end":{"row":173,"column":21},"action":"remove","lines":["("]},{"start":{"row":173,"column":19},"end":{"row":173,"column":20},"action":"remove","lines":["g"]},{"start":{"row":173,"column":18},"end":{"row":173,"column":19},"action":"remove","lines":["n"]},{"start":{"row":173,"column":17},"end":{"row":173,"column":18},"action":"remove","lines":["i"]},{"start":{"row":173,"column":16},"end":{"row":173,"column":17},"action":"remove","lines":["d"]},{"start":{"row":173,"column":15},"end":{"row":173,"column":16},"action":"remove","lines":["d"]},{"start":{"row":173,"column":14},"end":{"row":173,"column":15},"action":"remove","lines":["a"]},{"start":{"row":173,"column":13},"end":{"row":173,"column":14},"action":"remove","lines":["P"]},{"start":{"row":173,"column":12},"end":{"row":173,"column":13},"action":"remove","lines":["p"]},{"start":{"row":173,"column":11},"end":{"row":173,"column":12},"action":"remove","lines":["i"]},{"start":{"row":173,"column":10},"end":{"row":173,"column":11},"action":"remove","lines":["l"]},{"start":{"row":173,"column":9},"end":{"row":173,"column":10},"action":"remove","lines":["c"]},{"start":{"row":173,"column":8},"end":{"row":173,"column":9},"action":"remove","lines":["."]}],[{"start":{"row":173,"column":8},"end":{"row":174,"column":0},"action":"remove","lines":["",""],"id":1417}],[{"start":{"row":173,"column":4},"end":{"row":173,"column":8},"action":"remove","lines":["    "],"id":1418},{"start":{"row":173,"column":0},"end":{"row":173,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"remove","lines":["6"],"id":1419}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"insert","lines":["3"],"id":1420}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"remove","lines":["3"],"id":1421}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"insert","lines":["6"],"id":1422}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"remove","lines":["6"],"id":1423}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"insert","lines":["1"],"id":1424}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"remove","lines":["1"],"id":1425}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"insert","lines":["9"],"id":1426},{"start":{"row":193,"column":48},"end":{"row":193,"column":49},"action":"insert","lines":["0"]}],[{"start":{"row":193,"column":49},"end":{"row":193,"column":50},"action":"remove","lines":["0"],"id":1427}],[{"start":{"row":193,"column":48},"end":{"row":193,"column":49},"action":"remove","lines":["0"],"id":1428},{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"remove","lines":["9"]}],[{"start":{"row":193,"column":47},"end":{"row":193,"column":48},"action":"insert","lines":["6"],"id":1429},{"start":{"row":193,"column":48},"end":{"row":193,"column":49},"action":"insert","lines":["0"]}],[{"start":{"row":170,"column":15},"end":{"row":170,"column":16},"action":"remove","lines":["6"],"id":1439}],[{"start":{"row":170,"column":15},"end":{"row":170,"column":16},"action":"insert","lines":["4"],"id":1440}],[{"start":{"row":170,"column":15},"end":{"row":170,"column":16},"action":"remove","lines":["4"],"id":1441}],[{"start":{"row":170,"column":15},"end":{"row":170,"column":16},"action":"insert","lines":["6"],"id":1443}],[{"start":{"row":38,"column":0},"end":{"row":40,"column":3},"action":"remove","lines":["$(document).ready(function() {","    $(\"#myModal\").modal('show');","});"],"id":1444},{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""],"id":1445},{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":220,"column":15},"end":{"row":220,"column":16},"action":"remove","lines":["8"],"id":1446}],[{"start":{"row":220,"column":15},"end":{"row":220,"column":16},"action":"insert","lines":["7"],"id":1447}],[{"start":{"row":240,"column":34},"end":{"row":240,"column":35},"action":"remove","lines":["5"],"id":1448}],[{"start":{"row":240,"column":34},"end":{"row":240,"column":35},"action":"insert","lines":["4"],"id":1449}],[{"start":{"row":240,"column":34},"end":{"row":240,"column":35},"action":"remove","lines":["4"],"id":1450}],[{"start":{"row":240,"column":34},"end":{"row":240,"column":35},"action":"insert","lines":["5"],"id":1451}],[{"start":{"row":220,"column":16},"end":{"row":220,"column":17},"action":"remove","lines":["0"],"id":1452}],[{"start":{"row":220,"column":16},"end":{"row":220,"column":17},"action":"insert","lines":["5"],"id":1453}],[{"start":{"row":240,"column":56},"end":{"row":240,"column":57},"action":"remove","lines":["7"],"id":1454}],[{"start":{"row":240,"column":56},"end":{"row":240,"column":57},"action":"insert","lines":["5"],"id":1455}],[{"start":{"row":288,"column":0},"end":{"row":315,"column":3},"action":"remove","lines":["  /*------------------Alive Bar chart-----------*/","  ","   function show_alive(ndx) {","    var dim = ndx.dimension(dc.pluck(\"alive\"));","    var group = remove_blanks(dim.group(), \"\");","    ","     var aliveColors = d3.scale.ordinal()","        .range(['#4682B4']);","   ","   ","    dc.barChart(\"#bar-alive\")","      .width(350)","      .height(400)","      .margins({top: 10,right: 10,bottom: 30,left: 110})","      .colors(aliveColors)","      .dimension(dim)","      .group(group)","      .barPadding(0.05)","      .transitionDuration(1000)","      .x(d3.scale.ordinal())","      .xUnits(dc.units.ordinal)","      .elasticY(false)","      .xAxisLabel(\"Alive\")","      .yAxis()","      .ticks(10);","   }","    ","   "],"id":1456}],[{"start":{"row":242,"column":1},"end":{"row":243,"column":0},"action":"insert","lines":["",""],"id":1457},{"start":{"row":243,"column":0},"end":{"row":244,"column":0},"action":"insert","lines":["",""]},{"start":{"row":244,"column":0},"end":{"row":245,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":243,"column":0},"end":{"row":270,"column":3},"action":"insert","lines":["  /*------------------Alive Bar chart-----------*/","  ","   function show_alive(ndx) {","    var dim = ndx.dimension(dc.pluck(\"alive\"));","    var group = remove_blanks(dim.group(), \"\");","    ","     var aliveColors = d3.scale.ordinal()","        .range(['#4682B4']);","   ","   ","    dc.barChart(\"#bar-alive\")","      .width(350)","      .height(400)","      .margins({top: 10,right: 10,bottom: 30,left: 110})","      .colors(aliveColors)","      .dimension(dim)","      .group(group)","      .barPadding(0.05)","      .transitionDuration(1000)","      .x(d3.scale.ordinal())","      .xUnits(dc.units.ordinal)","      .elasticY(false)","      .xAxisLabel(\"Alive\")","      .yAxis()","      .ticks(10);","   }","    ","   "],"id":1458}],[{"start":{"row":254,"column":13},"end":{"row":254,"column":14},"action":"remove","lines":["3"],"id":1459}],[{"start":{"row":254,"column":13},"end":{"row":254,"column":14},"action":"insert","lines":["2"],"id":1460}],[{"start":{"row":256,"column":52},"end":{"row":256,"column":53},"action":"remove","lines":["1"],"id":1461},{"start":{"row":256,"column":51},"end":{"row":256,"column":52},"action":"remove","lines":["1"]}],[{"start":{"row":256,"column":51},"end":{"row":256,"column":52},"action":"insert","lines":["3"],"id":1462}],[{"start":{"row":256,"column":51},"end":{"row":256,"column":52},"action":"remove","lines":["3"],"id":1463}],[{"start":{"row":256,"column":51},"end":{"row":256,"column":52},"action":"insert","lines":["6"],"id":1464}],[{"start":{"row":256,"column":51},"end":{"row":256,"column":52},"action":"remove","lines":["6"],"id":1465}],[{"start":{"row":256,"column":51},"end":{"row":256,"column":52},"action":"insert","lines":["1"],"id":1466},{"start":{"row":256,"column":52},"end":{"row":256,"column":53},"action":"insert","lines":["1"]}],[{"start":{"row":255,"column":18},"end":{"row":256,"column":0},"action":"insert","lines":["",""],"id":1467},{"start":{"row":256,"column":0},"end":{"row":256,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":256,"column":6},"end":{"row":256,"column":31},"action":"insert","lines":[".useViewBoxResizing(true)"],"id":1468}],[{"start":{"row":256,"column":6},"end":{"row":256,"column":31},"action":"remove","lines":[".useViewBoxResizing(true)"],"id":1469},{"start":{"row":256,"column":6},"end":{"row":257,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":256,"column":5},"end":{"row":256,"column":6},"action":"remove","lines":[" "],"id":1470},{"start":{"row":256,"column":4},"end":{"row":256,"column":5},"action":"remove","lines":[" "]},{"start":{"row":256,"column":0},"end":{"row":256,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":343,"column":8},"end":{"row":344,"column":0},"action":"insert","lines":["",""],"id":1471},{"start":{"row":344,"column":0},"end":{"row":344,"column":7},"action":"insert","lines":["       "]},{"start":{"row":344,"column":7},"end":{"row":345,"column":0},"action":"insert","lines":["",""]},{"start":{"row":345,"column":0},"end":{"row":345,"column":7},"action":"insert","lines":["       "]},{"start":{"row":345,"column":7},"end":{"row":346,"column":0},"action":"insert","lines":["",""]},{"start":{"row":346,"column":0},"end":{"row":346,"column":7},"action":"insert","lines":["       "]},{"start":{"row":346,"column":7},"end":{"row":347,"column":0},"action":"insert","lines":["",""]},{"start":{"row":347,"column":0},"end":{"row":347,"column":7},"action":"insert","lines":["       "]},{"start":{"row":347,"column":7},"end":{"row":348,"column":0},"action":"insert","lines":["",""]},{"start":{"row":348,"column":0},"end":{"row":348,"column":7},"action":"insert","lines":["       "]},{"start":{"row":348,"column":7},"end":{"row":349,"column":0},"action":"insert","lines":["",""]},{"start":{"row":349,"column":0},"end":{"row":349,"column":7},"action":"insert","lines":["       "]},{"start":{"row":349,"column":7},"end":{"row":350,"column":0},"action":"insert","lines":["",""]},{"start":{"row":350,"column":0},"end":{"row":350,"column":7},"action":"insert","lines":["       "]},{"start":{"row":350,"column":7},"end":{"row":351,"column":0},"action":"insert","lines":["",""]},{"start":{"row":351,"column":0},"end":{"row":351,"column":7},"action":"insert","lines":["       "]},{"start":{"row":351,"column":7},"end":{"row":352,"column":0},"action":"insert","lines":["",""]},{"start":{"row":352,"column":0},"end":{"row":352,"column":7},"action":"insert","lines":["       "]},{"start":{"row":352,"column":7},"end":{"row":353,"column":0},"action":"insert","lines":["",""]},{"start":{"row":353,"column":0},"end":{"row":353,"column":7},"action":"insert","lines":["       "]},{"start":{"row":353,"column":7},"end":{"row":354,"column":0},"action":"insert","lines":["",""]},{"start":{"row":354,"column":0},"end":{"row":354,"column":7},"action":"insert","lines":["       "]},{"start":{"row":354,"column":7},"end":{"row":355,"column":0},"action":"insert","lines":["",""]},{"start":{"row":355,"column":0},"end":{"row":355,"column":7},"action":"insert","lines":["       "]},{"start":{"row":355,"column":7},"end":{"row":356,"column":0},"action":"insert","lines":["",""]},{"start":{"row":356,"column":0},"end":{"row":356,"column":7},"action":"insert","lines":["       "]},{"start":{"row":356,"column":7},"end":{"row":357,"column":0},"action":"insert","lines":["",""]},{"start":{"row":357,"column":0},"end":{"row":357,"column":7},"action":"insert","lines":["       "]},{"start":{"row":357,"column":7},"end":{"row":358,"column":0},"action":"insert","lines":["",""]},{"start":{"row":358,"column":0},"end":{"row":358,"column":7},"action":"insert","lines":["       "]},{"start":{"row":358,"column":7},"end":{"row":359,"column":0},"action":"insert","lines":["",""]},{"start":{"row":359,"column":0},"end":{"row":359,"column":7},"action":"insert","lines":["       "]},{"start":{"row":359,"column":7},"end":{"row":360,"column":0},"action":"insert","lines":["",""]},{"start":{"row":360,"column":0},"end":{"row":360,"column":7},"action":"insert","lines":["       "]},{"start":{"row":360,"column":7},"end":{"row":361,"column":0},"action":"insert","lines":["",""]},{"start":{"row":361,"column":0},"end":{"row":361,"column":7},"action":"insert","lines":["       "]},{"start":{"row":361,"column":7},"end":{"row":362,"column":0},"action":"insert","lines":["",""]},{"start":{"row":362,"column":0},"end":{"row":362,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":345,"column":7},"end":{"row":382,"column":0},"action":"insert","lines":["   var ofs = 0, pag = 17;","      function update_offset() {","          var totFilteredRecs = ndx.groupAll().value();","          var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","          ofs = ofs >= totFilteredRecs ? Math.floor((totFilteredRecs - 1) / pag) * pag : ofs;","          ofs = ofs < 0 ? 0 : ofs;","          chart.beginSlice(ofs);","          chart.endSlice(ofs+pag);","      }","      function display() {","          var totFilteredRecs = ndx.groupAll().value();","          var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","          d3.select('#begin')","              .text(end === 0? ofs : ofs + 1);","          d3.select('#end')","              .text(end);","          d3.select('#last')","              .attr('disabled', ofs-pag<0 ? 'true' : null);","          d3.select('#next')","              .attr('disabled', ofs+pag>=totFilteredRecs ? 'true' : null);","          d3.select('#size').text(totFilteredRecs);","          if(totFilteredRecs != ndx.size()){","            d3.select('#totalsize').text(\"(filtered Total: \" + ndx.size() + \" )\");","          }else{","            d3.select('#totalsize').text('');","          }","      }","      function next() {","          ofs += pag;","          update_offset();","          chart.redraw();","      }","      function last() {","          ofs -= pag;","          update_offset();","          chart.redraw();","      }",""],"id":1472}],[{"start":{"row":400,"column":41},"end":{"row":400,"column":50},"action":"remove","lines":["-------*/"],"id":1473}],[{"start":{"row":437,"column":9},"end":{"row":438,"column":0},"action":"insert","lines":["",""],"id":1474},{"start":{"row":438,"column":0},"end":{"row":438,"column":8},"action":"insert","lines":["        "]},{"start":{"row":438,"column":8},"end":{"row":439,"column":0},"action":"insert","lines":["",""]},{"start":{"row":439,"column":0},"end":{"row":439,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":439,"column":8},"end":{"row":439,"column":17},"action":"insert","lines":["-------*/"],"id":1475}],[{"start":{"row":254,"column":6},"end":{"row":256,"column":56},"action":"remove","lines":[".width(250)","      .height(400)","      .margins({top: 10,right: 10,bottom: 30,left: 110})"],"id":1476},{"start":{"row":254,"column":6},"end":{"row":256,"column":56},"action":"insert","lines":[".width(350)","      .height(400)","      .margins({top: 10,right: 10,bottom: 30,left: 110})"]}],[{"start":{"row":351,"column":14},"end":{"row":351,"column":15},"action":"remove","lines":["t"],"id":1477},{"start":{"row":351,"column":13},"end":{"row":351,"column":14},"action":"remove","lines":["r"]},{"start":{"row":351,"column":12},"end":{"row":351,"column":13},"action":"remove","lines":["a"]},{"start":{"row":351,"column":11},"end":{"row":351,"column":12},"action":"remove","lines":["h"]},{"start":{"row":351,"column":10},"end":{"row":351,"column":11},"action":"remove","lines":["c"]}],[{"start":{"row":351,"column":10},"end":{"row":351,"column":11},"action":"insert","lines":["f"],"id":1478}],[{"start":{"row":351,"column":10},"end":{"row":351,"column":11},"action":"remove","lines":["f"],"id":1479}],[{"start":{"row":351,"column":10},"end":{"row":351,"column":11},"action":"insert","lines":["d"],"id":1480},{"start":{"row":351,"column":11},"end":{"row":351,"column":12},"action":"insert","lines":["a"]},{"start":{"row":351,"column":12},"end":{"row":351,"column":13},"action":"insert","lines":["t"]},{"start":{"row":351,"column":13},"end":{"row":351,"column":14},"action":"insert","lines":["a"]}],[{"start":{"row":351,"column":10},"end":{"row":351,"column":14},"action":"remove","lines":["data"],"id":1481},{"start":{"row":351,"column":10},"end":{"row":351,"column":19},"action":"insert","lines":["dataTable"]}],[{"start":{"row":352,"column":10},"end":{"row":352,"column":15},"action":"remove","lines":["chart"],"id":1482},{"start":{"row":352,"column":10},"end":{"row":352,"column":11},"action":"insert","lines":["d"]},{"start":{"row":352,"column":11},"end":{"row":352,"column":12},"action":"insert","lines":["a"]},{"start":{"row":352,"column":12},"end":{"row":352,"column":13},"action":"insert","lines":["t"]}],[{"start":{"row":352,"column":10},"end":{"row":352,"column":13},"action":"remove","lines":["dat"],"id":1483},{"start":{"row":352,"column":10},"end":{"row":352,"column":19},"action":"insert","lines":["dataTable"]}],[{"start":{"row":345,"column":8},"end":{"row":353,"column":7},"action":"remove","lines":["  var ofs = 0, pag = 17;","      function update_offset() {","          var totFilteredRecs = ndx.groupAll().value();","          var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","          ofs = ofs >= totFilteredRecs ? Math.floor((totFilteredRecs - 1) / pag) * pag : ofs;","          ofs = ofs < 0 ? 0 : ofs;","          dataTable.beginSlice(ofs);","          dataTable.endSlice(ofs+pag);","      }"],"id":1484}],[{"start":{"row":345,"column":5},"end":{"row":375,"column":7},"action":"remove","lines":["   ","      function display() {","          var totFilteredRecs = ndx.groupAll().value();","          var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","          d3.select('#begin')","              .text(end === 0? ofs : ofs + 1);","          d3.select('#end')","              .text(end);","          d3.select('#last')","              .attr('disabled', ofs-pag<0 ? 'true' : null);","          d3.select('#next')","              .attr('disabled', ofs+pag>=totFilteredRecs ? 'true' : null);","          d3.select('#size').text(totFilteredRecs);","          if(totFilteredRecs != ndx.size()){","            d3.select('#totalsize').text(\"(filtered Total: \" + ndx.size() + \" )\");","          }else{","            d3.select('#totalsize').text('');","          }","      }","      function next() {","          ofs += pag;","          update_offset();","          chart.redraw();","      }","      function last() {","          ofs -= pag;","          update_offset();","          chart.redraw();","      }","","       "],"id":1485}],[{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "],"id":1486},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]}],[{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "],"id":1487},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":7},"action":"remove","lines":["","       "]},{"start":{"row":345,"column":5},"end":{"row":346,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":384,"column":3},"end":{"row":384,"column":17},"action":"remove","lines":["     -------*/"],"id":1488}],[{"start":{"row":345,"column":46},"end":{"row":345,"column":60},"action":"insert","lines":["     -------*/"],"id":1489}],[{"start":{"row":345,"column":50},"end":{"row":345,"column":51},"action":"remove","lines":[" "],"id":1490},{"start":{"row":345,"column":49},"end":{"row":345,"column":50},"action":"remove","lines":[" "]},{"start":{"row":345,"column":48},"end":{"row":345,"column":49},"action":"remove","lines":[" "]},{"start":{"row":345,"column":47},"end":{"row":345,"column":48},"action":"remove","lines":[" "]},{"start":{"row":345,"column":46},"end":{"row":345,"column":47},"action":"remove","lines":[" "]}]]},"ace":{"folds":[],"scrolltop":1366.40625,"scrollleft":0,"selection":{"start":{"row":105,"column":26},"end":{"row":105,"column":33},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":107,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1562128103479}